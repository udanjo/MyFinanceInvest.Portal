{"remainingRequest":"E:\\Projeto\\Vue\\myfinanceinvest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Projeto\\Vue\\myfinanceinvest\\src\\components\\Bank\\Bank.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Projeto\\Vue\\myfinanceinvest\\src\\components\\Bank\\Bank.vue","mtime":1603389003361},{"path":"E:\\Projeto\\Vue\\myfinanceinvest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Projeto\\Vue\\myfinanceinvest\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Projeto\\Vue\\myfinanceinvest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Projeto\\Vue\\myfinanceinvest\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwppbXBvcnQgYmFua01vZGVsIGZyb20gIi4uL01vZGVscy9iYW5rTW9kZWwiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYW5rczogW2JhbmtNb2RlbF0sCiAgICAgIGJhbmtNb2RlbCwKICAgICAgYkluc2VydDogZmFsc2UsCiAgICB9OwogIH0sCiAgcHJvcHM6IHt9LAogIG1vdW50ZWQoKSB7CiAgICByZXR1cm4gdGhpcy5HZXRBbGwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmJhbmtNb2RlbC5pZCA+IDApIHsKICAgICAgICBheGlvcwogICAgICAgICAgLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo2MDAxL2FwaS9iYW5rIiwgdGhpcy5iYW5rTW9kZWwpCiAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNsZWFyKCkpCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcikpOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo2MDAxL2FwaS9iYW5rIiwgdGhpcy5iYW5rTW9kZWwpCiAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNsZWFyKCkpCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcikpOwogICAgICB9CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLkdldEFsbCgpOwogICAgICAgIHRoaXMuaW5zZXJ0Rm9ybShmYWxzZSk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIHJlbW92ZShiYW5rKSB7CiAgICAgIGlmIChjb25maXJtKGBEZXNlamEgcmVhbG1lbnRlIHJlbW92ZXIgbyBiYW5jbyAke2JhbmsuZGVzY3JpcHRpb259YCkpIHsKICAgICAgICBheGlvcwogICAgICAgICAgLmRlbGV0ZShgaHR0cDovL2xvY2FsaG9zdDo2MDAxL2FwaS9iYW5rLyR7YmFuay5pZH1gKQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5HZXRBbGwoKTsKICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICBHZXRBbGwoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgiaHR0cDovL2xvY2FsaG9zdDo2MDAxL2FwaS9iYW5rL2FsbCIpCiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gKHRoaXMuYmFua3MgPSByZXN1bHQuZGF0YSkpCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gKHRoaXMubG9hZGluZyA9IGZhbHNlKSk7CiAgICB9LAogICAgYWx0ZXIoaW5mbykgewogICAgICB0aGlzLmluc2VydEZvcm0odHJ1ZSk7CgogICAgICB0aGlzLmJhbmtNb2RlbC5pZCA9IGluZm8uaWQ7CiAgICAgIHRoaXMuYmFua01vZGVsLmNvZGUgPSBpbmZvLmNvZGU7CiAgICAgIHRoaXMuYmFua01vZGVsLmRlc2NyaXB0aW9uID0gaW5mby5kZXNjcmlwdGlvbjsKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuY29kZWJhbmsuZm9jdXMoKTsKICAgICAgfSwgMTApOwogICAgfSwKICAgIGNsZWFyKCkgewogICAgICB0aGlzLmJhbmtNb2RlbC5pZCA9ICIiOwogICAgICB0aGlzLmJhbmtNb2RlbC5jb2RlID0gIiI7CiAgICAgIHRoaXMuYmFua01vZGVsLmRlc2NyaXB0aW9uID0gIiI7CgogICAgICB0aGlzLmluc2VydEZvcm0oZmFsc2UpOwogICAgfSwKICAgIGluc2VydEZvcm0ob3B0aW9uKSB7CiAgICAgIHRoaXMuYkluc2VydCA9IG9wdGlvbjsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Bank.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Bank.vue","sourceRoot":"src/components/Bank","sourcesContent":["<template>\n  <div>\n    <p class=\"title\">Cadastro de Banco</p>\n    <hr />\n    <form class=\"form-group\" @submit.prevent=\"save()\" v-if=\"bInsert\">\n      <div>\n        <label>Código</label>\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          ref=\"codebank\"\n          name=\"code\"\n          id=\"txtcode\"\n          placeholder=\"Digite o código\"\n          v-model=\"bankModel.code\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label>Descrição</label>\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          name=\"description\"\n          id=\"txtdescription\"\n          placeholder=\"Digite o nome\"\n          v-model=\"bankModel.description\"\n        />\n      </div>\n      <div class=\"form-group row2\">\n        <button type=\"submit\" class=\"btn btn-primary\">Salvar</button>\n        <button\n          @click.prevent=\"clear()\"\n          class=\"btn btn-secondary\"\n          style=\"margin: 10px\"\n        >\n          Cancelar\n        </button>\n      </div>\n      <hr />\n    </form>\n    <div id=\"listBank\" v-else>\n      <button @click=\"insertForm(true)\" class=\"btn btn-primary btn-insert\">\n        Inserir\n      </button>\n      <br /><br />\n      <table class=\"tableBank table\">\n        <thead>\n          <th>Id</th>\n          <th>Código</th>\n          <th>Descrição</th>\n          <th>Opção</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"(bank, index) in banks\" :key=\"index\">\n            <td>{{ bank.id }}</td>\n            <td>{{ bank.code }}</td>\n            <td>{{ bank.description }}</td>\n            <td>\n              <button @click=\"alter(bank)\" class=\"btn btn-warning ml-2\">\n                Alterar\n              </button>\n              <button @click=\"remove(bank)\" class=\"btn btn-danger ml-2\">\n                Excluir\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// eslint-disable-next-line no-unused-vars\nimport bankModel from \"../Models/bankModel\";\n\nexport default {\n  data() {\n    return {\n      banks: [bankModel],\n      bankModel,\n      bInsert: false,\n    };\n  },\n  props: {},\n  mounted() {\n    return this.GetAll();\n  },\n  methods: {\n    save() {\n      if (this.bankModel.id > 0) {\n        axios\n          .put(\"http://localhost:6001/api/bank\", this.bankModel)\n          .then(() => this.clear())\n          .catch((error) => console.log(error));\n      } else {\n        axios\n          .post(\"http://localhost:6001/api/bank\", this.bankModel)\n          .then(() => this.clear())\n          .catch((error) => console.log(error));\n      }\n\n      setTimeout(() => {\n        this.GetAll();\n        this.insertForm(false);\n      }, 1000);\n    },\n    remove(bank) {\n      if (confirm(`Deseja realmente remover o banco ${bank.description}`)) {\n        axios\n          .delete(`http://localhost:6001/api/bank/${bank.id}`)\n          .catch((error) => console.log(error));\n      }\n\n      setTimeout(() => {\n        this.GetAll();\n      }, 300);\n    },\n    GetAll() {\n      axios\n        .get(\"http://localhost:6001/api/bank/all\")\n        .then((result) => (this.banks = result.data))\n        .finally(() => (this.loading = false));\n    },\n    alter(info) {\n      this.insertForm(true);\n\n      this.bankModel.id = info.id;\n      this.bankModel.code = info.code;\n      this.bankModel.description = info.description;\n\n      setTimeout(() => {\n        this.$refs.codebank.focus();\n      }, 10);\n    },\n    clear() {\n      this.bankModel.id = \"\";\n      this.bankModel.code = \"\";\n      this.bankModel.description = \"\";\n\n      this.insertForm(false);\n    },\n    insertForm(option) {\n      this.bInsert = option;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.tableBank {\n  border: 1px solid black;\n  width: 100%;\n}\n\n.title {\n  font-weight: bold;\n  font-size: 2em;\n}\n\n.btn-insert {\n  width: 180px;\n  height: 40px;\n}\n\n.btn-warning {\n  margin-left: 0px !important;\n}\n</style>\n"]}]}